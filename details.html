<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Smart Properties System - Details</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;600;700;800&family=Noto+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --line-bg:#8fb2d6;
      --line-card:rgba(255,255,255,.92);
      --line-border:rgba(17,24,39,.08);
      --line-text:#111827;
      --line-sub:#6b7280;
      --line-dark:#0f172a;
      --line-green:#06C755;
      --radius-xl:28px;
      --radius-lg:20px;
    }

    html,body{height:100%;}
    body{
      font-family:"Noto Sans Thai","Noto Sans",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--line-text);
      background: var(--line-bg);
      background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%22900%22%20height%3D%221600%22%20viewBox%3D%220%200%20900%201600%22%3E%0A%20%20%3Crect%20width%3D%22900%22%20height%3D%221600%22%20fill%3D%22%238fb2d6%22/%3E%0A%20%20%3Cg%20fill%3D%22white%22%20opacity%3D%220.18%22%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22170%22%20cy%3D%22380%22%20rx%3D%22190%22%20ry%3D%22110%22/%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22320%22%20cy%3D%22365%22%20rx%3D%22160%22%20ry%3D%2295%22/%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22280%22%20cy%3D%22420%22%20rx%3D%22210%22%20ry%3D%22120%22/%3E%0A%0A%20%20%20%20%3Cellipse%20cx%3D%22680%22%20cy%3D%22820%22%20rx%3D%22210%22%20ry%3D%22120%22/%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22560%22%20cy%3D%22830%22%20rx%3D%22170%22%20ry%3D%22100%22/%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22640%22%20cy%3D%22890%22%20rx%3D%22240%22%20ry%3D%22130%22/%3E%0A%0A%20%20%20%20%3Cellipse%20cx%3D%22260%22%20cy%3D%221180%22%20rx%3D%22230%22%20ry%3D%22130%22/%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22420%22%20cy%3D%221160%22%20rx%3D%22190%22%20ry%3D%22115%22/%3E%0A%20%20%20%20%3Cellipse%20cx%3D%22380%22%20cy%3D%221220%22%20rx%3D%22260%22%20ry%3D%22145%22/%3E%0A%20%20%3C/g%3E%0A%3C/svg%3E");
      background-size: cover;
      background-attachment: fixed;
    }

    .safe-top{ padding-top: max(14px, env(safe-area-inset-top)); }
    .safe-bottom{ padding-bottom: max(18px, env(safe-area-inset-bottom)); }

    .topbar{
      position: sticky;
      top: 0;
      z-index: 30;
      background: rgba(255,255,255,.96);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--line-border);
    }
    .topbar-inner{
      max-width: 920px;
      margin: 0 auto;
      padding: 14px 16px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .icon-btn{
      width: 44px; height: 44px;
      border-radius: 16px;
      display:grid; place-items:center;
      border: 1px solid var(--line-border);
      background: white;
      box-shadow: 0 10px 22px rgba(15,23,42,.08);
      flex: 0 0 auto;
    }
    .icon{
      width: 22px; height: 22px;
      fill: none;
      stroke: #111827;
      stroke-width: 2.2;
      stroke-linecap: round;
      stroke-linejoin: round;
      opacity: .95;
    }
    .titlebar{
      min-width:0;
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .t1{ font-weight: 1000; font-size: 18px; line-height:1.1; }
    .t2{ color: var(--line-sub); font-weight: 700; font-size: 12.5px; }

    .card{
      background: var(--line-card);
      border: 1px solid var(--line-border);
      border-radius: var(--radius-xl);
      box-shadow: 0 18px 44px rgba(15,23,42,.12);
      overflow:hidden;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 900;
      border: 1px solid rgba(17,24,39,.08);
      background: rgba(255,255,255,.78);
      backdrop-filter: blur(8px);
      max-width: 100%;
    }
    .chip.badge{ color:#6d28d9; background: rgba(237,233,254,.9); }
    .chip.sys{ color:#334155; background: rgba(241,245,249,.9); }
    .chip.plot{ color:#0f172a; background: rgba(255,255,255,.86); }

    .status-pill{
      margin-left:auto;
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 1000;
      border: 1px solid rgba(17,24,39,.10);
      background: rgba(255,255,255,.85);
      white-space: nowrap;
    }
    .st-available{ color:#047857; background: rgba(209,250,229,.92); }
    .st-sold{ color:#b91c1c; background: rgba(254,226,226,.92); }
    .st-pending{ color:#92400e; background: rgba(254,243,199,.92); }
    .st-other{ color:#334155; background: rgba(241,245,249,.92); }

    .price{
      font-weight: 1000;
      letter-spacing: -0.8px;
      line-height: 1.05;
      font-size: clamp(44px, 8vw, 72px); /* never overflow on mobile */
      word-break: break-word;
    }

    .meta{
      margin-top: 14px;
      display:flex;
      flex-wrap: wrap;
      gap:10px;
      font-weight: 900;
      font-size: 13px;
      color: rgba(17,24,39,.85);
    }
    .meta span{
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.72);
      border: 1px solid rgba(17,24,39,.08);
      display:inline-flex; align-items:center; gap:8px;
    }

    .btn{
      width: 100%;
      padding: 14px 16px;
      border-radius: 18px;
      font-weight: 1000;
      letter-spacing: .08em;
      font-size: 13px;
      border: 1px solid rgba(17,24,39,.10);
      box-shadow: 0 14px 28px rgba(15,23,42,.10);
    }
    .btn-dark{ background: var(--line-dark); color: white; border-color: rgba(255,255,255,.06); }
    .btn-ghost{ background: rgba(255,255,255,.92); color: rgba(15,23,42,.78); }

    .gallery{
      position: relative;
      border-radius: 26px;
      overflow:hidden;
      background:#e5e7eb;
    }
    .gallery img{ width:100%; height: 240px; object-fit: cover; display:block; }
    @media(min-width:640px){ .gallery img{ height: 310px; } }

    .navbtn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width: 54px; height: 54px;
      border-radius: 18px;
      display:grid; place-items:center;
      background: rgba(17,24,39,.38);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,.22);
      color:white;
      font-size: 26px;
      font-weight: 900;
    }
    .navbtn:active{ transform: translateY(-50%) scale(.98); }
    .navbtn.left{ left: 12px; }
    .navbtn.right{ right: 12px; }

    .counter{
      position:absolute;
      right: 12px;
      top: 12px;
      padding: 10px 14px;
      border-radius: 18px;
      background: rgba(255,255,255,.80);
      border: 1px solid rgba(17,24,39,.08);
      font-weight: 1000;
    }

    .thumb-row{
      display:flex;
      gap: 10px;
      overflow:auto;
      padding-bottom: 4px;
      scrollbar-width: none;
    }
    .thumb-row::-webkit-scrollbar{ display:none; }
    .thumb{
      width: 106px;
      height: 70px;
      border-radius: 16px;
      object-fit: cover;
      border: 2px solid rgba(17,24,39,.10);
      opacity: .92;
      flex: 0 0 auto;
      background:#e5e7eb;
    }
    .thumb.active{ border-color: rgba(15,23,42,.55); opacity: 1; }

    .loading-wrap{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      padding: 16px;
      border-radius: 18px;
      background: rgba(255,255,255,.85);
      border: 1px solid rgba(17,24,39,.08);
      font-weight: 900;
      color: rgba(17,24,39,.75);
    }
    .dots::after{
      content:"";
      display:inline-block;
      width: 1.3em;
      text-align:left;
      animation: dots 1.2s steps(4,end) infinite;
    }
    @keyframes dots{
      0%{ content:""; }
      25%{ content:"."; }
      50%{ content:".."; }
      75%{ content:"..."; }
      100%{ content:""; }
    }
  </style>
</head>

<body class="safe-bottom">
  <div class="topbar safe-top">
    <div class="topbar-inner">
      <button class="icon-btn" onclick="history.back()" aria-label="Back">
        <svg class="icon" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
      </button>

      <div class="titlebar">
        <div id="title" class="t1 truncate">UNIT DETAILS</div>
        <div id="subtitle" class="t2 truncate">Smart Properties System</div>
      </div>

      <div class="ml-auto flex items-center gap-2">
        <button id="homeBtn" class="icon-btn" type="button" aria-label="Home">
          <svg class="icon" viewBox="0 0 24 24"><path d="M3 10.5l9-7 9 7"/><path d="M5 10v10h14V10"/></svg>
        </button>
      </div>
    </div>
  </div>

  <main class="max-w-3xl mx-auto px-4 pt-4 pb-10">
    <div id="pageLoading" class="loading-wrap"><span>Loading details</span><span class="dots"></span></div>
    <div id="errBox" class="hidden mt-3 loading-wrap" style="border-color: rgba(220,38,38,.25); color: rgba(185,28,28,.95); background: rgba(254,226,226,.85);"></div>

    <div id="app" class="hidden space-y-4">
      <div id="galleryCard" class="card p-4">
        <div class="gallery">
          <img id="mainImg" src="" alt="property" />
          <button id="prevBtn" class="navbtn left" type="button" aria-label="Previous">‚Äπ</button>
          <button id="nextBtn" class="navbtn right" type="button" aria-label="Next">‚Ä∫</button>
          <div id="counter" class="counter">1/1</div>
        </div>

        <div id="photoLoading" class="mt-3 loading-wrap"><span>Loading photos</span><span class="dots"></span></div>
        <div id="thumbRow" class="thumb-row mt-3"></div>
      </div>

      <div class="card p-5">
        <div class="flex items-center gap-2 flex-wrap">
          <span id="badgePill" class="chip badge">Badge: -</span>
          <span id="sysPill" class="chip sys">System: -</span>
          <span id="plotPill" class="chip plot">Plot: -</span>
          <div id="statusPill" class="status-pill st-other">Unknown</div>
        </div>

        <div class="mt-3 text-sm font-extrabold text-slate-600">Updated: <span id="updated">-</span></div>

        <div id="price" class="price mt-6">‡∏ø-</div>

        <div class="meta">
          <span>üõèÔ∏è <span id="bed">-</span></span>
          <span>üõÅ <span id="bath">-</span></span>
          <span>üìê <span id="landSqw">-</span> sq.w</span>
          <span>üè† <span id="livingSqm">-</span> m&sup2;</span>
        </div>

        <div id="desc" class="mt-5 text-[15px] leading-relaxed font-semibold text-slate-700 whitespace-pre-wrap"></div>

        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
          <button id="mapBtn" class="btn btn-dark" type="button">GOOGLE MAP</button>
          <button id="fbBtn" class="btn btn-ghost" type="button">FACEBOOK</button>
        </div>
      </div>

      <div id="errBox2" class="hidden"></div>
    </div>
  </main>

  <div class="h-6"></div>

<script>
 <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Kanit', sans-serif; }
    .price-text { font-size: clamp(2.2rem, 5vw, 3.3rem); font-weight: 700; letter-spacing: -0.03em; line-height: 1.05; }
    .muted { color:#94a3b8; }
    .pill { padding:.55rem 1rem; border-radius:999px; font-weight:600; font-size:.95rem; }
    .soft-card { border-radius: 2.2rem; overflow:hidden; box-shadow: 0 10px 30px rgba(2,6,23,.10); }
    .thumb { border-radius: 1.25rem; overflow:hidden; border: 2px solid transparent; }
    .thumb.active { border-color:#0f172a; }
    .thumb img { width:100%; height:100%; object-fit:cover; display:block; }
    img { -webkit-user-drag: none; }

    /* ‚úÖ Arrow buttons: subtle, no white background */
    .nav-btn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width:56px; height:56px;
      border-radius:999px;
      display:flex; align-items:center; justify-content:center;
      background: transparent;
      border: none;
      color: rgba(255,255,255,.85);
      font-size: 44px;
      line-height: 1;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      text-shadow: 0 6px 18px rgba(0,0,0,.40);
      transition: transform .12s ease, opacity .12s ease;
      opacity: .85;
    }
    .nav-btn:hover{ opacity: 1; transform: translateY(-50%) scale(1.04); }
    .nav-btn:active{ transform: translateY(-50%) scale(.96); }
    .nav-left{ left: 14px; }
    .nav-right{ right: 14px; }

    @media (max-width: 640px){
      .nav-btn{ width:46px; height:46px; font-size:38px; }
      .nav-left{ left: 10px; }
      .nav-right{ right: 10px; }
    }

    /* ‚úÖ Skeleton shimmer */
    .shimmer {
      background: linear-gradient(90deg, #eef2f7 25%, #f8fafc 37%, #eef2f7 63%);
      background-size: 400% 100%;
      animation: shimmer 1.25s ease infinite;
    }
    @keyframes shimmer {
      0% { background-position: 100% 0; }
      100% { background-position: 0 0; }
    }

    /* ‚úÖ Photo loading overlay */
    .photo-overlay {
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.28), rgba(0,0,0,.18));
      backdrop-filter: blur(6px);
      color: rgba(255,255,255,.95);
      font-weight:700;
      letter-spacing:.04em;
    }
    .photo-overlay.hidden{ display:none; }

    /* ‚úÖ Page loading overlay (clean, not "broken") */
    .page-loading {
      position: fixed; inset:0;
      background: #f8fafc;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index: 9999;
      padding: 16px;
    }
    .page-loading.hidden{ display:none; }
  </style>
</head>

<body class="bg-slate-50">

  <!-- ‚úÖ FULL PAGE LOADING (shows first, looks clean) -->
  <div id="pageLoading" class="page-loading">
    <div class="w-full max-w-3xl">
      <div class="flex items-start justify-between mb-6">
        <div class="w-1/2">
          <div class="h-10 w-48 rounded-2xl shimmer"></div>
          <div class="h-5 w-64 mt-3 rounded-xl shimmer"></div>
        </div>
        <div class="flex gap-3">
          <div class="w-12 h-12 rounded-2xl shimmer"></div>
          <div class="w-12 h-12 rounded-2xl shimmer"></div>
        </div>
      </div>

      <div class="soft-card bg-white">
        <div class="h-[320px] sm:h-[420px] md:h-[520px] shimmer"></div>
        <div class="p-6">
          <div class="h-6 w-40 rounded-xl shimmer mb-3"></div>
          <div class="h-6 w-56 rounded-xl shimmer"></div>
        </div>
      </div>

      <div class="mt-6 soft-card bg-white p-6">
        <div class="h-12 w-56 rounded-2xl shimmer mb-4"></div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <div class="h-20 rounded-2xl shimmer"></div>
          <div class="h-20 rounded-2xl shimmer"></div>
          <div class="h-20 rounded-2xl shimmer"></div>
          <div class="h-20 rounded-2xl shimmer"></div>
        </div>
      </div>

      <div class="text-center muted mt-6 font-semibold">Loading data & photos‚Ä¶</div>
    </div>
  </div>

  <!-- ‚úÖ MAIN CONTENT (hidden until ready) -->
  <div id="app" class="opacity-0 transition-opacity duration-200">
    <div class="max-w-6xl mx-auto px-4 py-6 md:py-10">

      <!-- Header -->
      <div class="flex items-start justify-between gap-4 mb-6">
        <div class="min-w-0">
          <h1 id="title" class="text-3xl md:text-5xl font-extrabold italic text-slate-900 truncate">UNIT</h1>
          <div id="subtitle" class="mt-2 text-base md:text-lg muted">Project: - ‚Ä¢ Unit: -</div>
        </div>

        <div class="flex gap-3 shrink-0">
          <button onclick="history.back()"
            class="w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-white shadow flex items-center justify-center text-xl"
            title="Back">‚Üê</button>

          <a id="homeBtn" href="index.html"
            class="w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-slate-900 text-white shadow flex items-center justify-center text-xl"
            title="Home">‚åÇ</a>
        </div>
      </div>

      <!-- Error card (if missing id) -->
      <div id="errBox" class="hidden bg-white soft-card p-6 md:p-8">
        <div class="text-2xl font-extrabold text-slate-900 mb-2">Missing Unit ID</div>
        <div class="muted mb-4">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ: <b>details.html?id=HP-Z001&project=Project_0</b></div>
        <a href="index.html" class="inline-block px-5 py-3 rounded-2xl bg-slate-900 text-white font-semibold">Back to Index</a>
      </div>

      <!-- Main gallery card -->
      <div id="galleryCard" class="soft-card bg-white">
        <div class="relative">
          <img id="mainImg" src="" alt="Property photo"
               class="w-full h-[320px] sm:h-[420px] md:h-[520px] object-cover"
               decoding="async" loading="eager">

          <!-- ‚úÖ overlay while photo loads (prevents "broken" feeling) -->
          <div id="photoLoading" class="photo-overlay">
            Loading photo‚Ä¶
          </div>

          <div id="plotPill" class="absolute top-4 left-4 bg-white/90 px-4 py-2 rounded-full font-semibold">-</div>
          <div id="statusPill" class="absolute top-4 right-4 px-4 py-2 rounded-full font-semibold">-</div>

          <button id="prevBtn" class="nav-btn nav-left" aria-label="Previous photo" title="Previous">‚Äπ</button>
          <button id="nextBtn" class="nav-btn nav-right" aria-label="Next photo" title="Next">‚Ä∫</button>

          <div id="counter" class="absolute bottom-4 right-4 bg-white/90 px-4 py-2 rounded-full font-semibold">1 / 1</div>
        </div>

        <div class="p-4 md:p-6">
          <div id="thumbRow" class="flex gap-3 overflow-x-auto pb-2"></div>
        </div>
      </div>

      <!-- Info card -->
      <div class="mt-6 bg-white soft-card p-6 md:p-8">
        <div class="flex flex-wrap gap-3 mb-5">
          <div id="badgePill" class="pill bg-violet-100 text-violet-700">Badge: -</div>
          <div id="sysPill" class="pill bg-slate-100 text-slate-700">System: -</div>
          <div id="updated" class="w-full muted font-semibold">Updated: -</div>
        </div>

        <div class="price-text text-slate-900" id="price">‡∏ø0</div>

        <div class="mt-5 grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
          <div class="bg-slate-100 rounded-2xl p-4"><div class="muted">Bedrooms</div><div id="bed" class="text-lg font-semibold">-</div></div>
          <div class="bg-slate-100 rounded-2xl p-4"><div class="muted">Bathrooms</div><div id="bath" class="text-lg font-semibold">-</div></div>
          <div class="bg-slate-100 rounded-2xl p-4"><div class="muted">Land (sq.w)</div><div id="landSqw" class="text-lg font-semibold">-</div></div>
          <div class="bg-slate-100 rounded-2xl p-4"><div class="muted">Living (sqm)</div><div id="livingSqm" class="text-lg font-semibold">-</div></div>
        </div>

        <div class="mt-6">
          <div class="text-sm muted font-semibold mb-2">Description</div>
          <div id="desc" class="text-slate-800 leading-relaxed">-</div>
        </div>

        <div class="mt-6 flex flex-wrap gap-3">
          <a id="mapBtn" href="#" target="_blank"
             class="px-5 py-3 rounded-2xl bg-slate-900 text-white font-semibold">OPEN MAP</a>
          <a id="fbBtn" href="#" target="_blank"
             class="px-5 py-3 rounded-2xl bg-blue-600 text-white font-semibold">FACEBOOK / LISTING</a>
        </div>
      </div>

      <div id="loadingText" class="text-center text-slate-400 py-10 hidden">Loading...</div>
    </div>
  </div>

<script>
</script>
</body>
</html>
